<!DOCTYPE html>
<html>
<head>
	<title>Newseful</title>
	<link href='/css/main.css' rel='stylesheet'>
	<link href='http://nf-components.na1429654158.netdna-cdn.com/components/styles/1.0/newseful.css' rel='stylesheet'>
</head>
<body>
	<header class='site-header'>
		<h1 class='site-header__logo'><a href='/' class='site-header__home-link'>Newseful</a></h1>

		<nav class='site-header__nav'>
			<ul class='site-header__nav-list'>
				<li class='site-header__nav-list-item'><a class='site-header__nav-list-item-link site-header__nav-list-item-link--current' href='/docs/timeline'>Timeline</a></li>

				<li class='site-header__nav-list-item'><a class='site-header__nav-list-item-link' href='/docs/annotations'>Annotations</a></li>

				<li class='site-header__nav-list-item'><a class='site-header__nav-list-item-link' href='/docs/tracking'>Fact Tracking</a></li>
			</ul>
		</nav>
	</header>

	<div class='panels'>
		<div class='left-panel'>
			<div class="panel__navigation">
					<ul class='panel__navigation-list'>
						<li class='panel__navigation-item'><a href='#overview' class='panel__navigation-link panel__navigation-link--current'>Overview</a></li>
						<li class='panel__navigation-item'><a href='#setup' class='panel__navigation-link'>Setup</a></li>
						<li class='panel__navigation-item'><a href='#datasources' class='panel__navigation-link'>Data Sources</a></li>
						<li class='panel__navigation-item'><a href='#config' class='panel__navigation-link'>Configuration</a></li>
					</ul>
			</div>

			<div class='panel__section panel__section--first' id='overview'>
				<h1 class="panel__title">Timeline <span class='panel__version'>v1.0.1</span></h1>

				<div class='panel__source-box'>
					<span class='panel__source-label'>Hosted Version</span>
					<a class='panel__source-link' href='http://newseful.github.io/components/timeline'>Source &rarr;</a>

					<input type='text' value='http://nf-components.na1429654158.netdna-cdn.com/components/timeline/1.0/newseful-timeline.js' class='panel__static-input' readonly>
				</div>

				<p class='panel__text'>
					The newseful timeline provides a more structured layout for developing stories. By separating events from reactions, it provides the reader with a clearer understanding of the reporter's work.
				</p>

				<p class='panel__text'>
					The timeline component is simple enough for reporters to set up themselves, but can be customized for greater flexibility. 
				</p>
			</div>

			<div class='panel__section' id='setup'>
				<h2 class='panel__title'>Setup</h2>

				<p class='panel__text'>
					The newseful timeline component relies on two external dependencies when using Google Sheets as a data source. These dependencies are the javascript libraries <span class='panel__code-inline'>d3.js</span> and <span class="panel__code-inline">tabletop.js</span>. To add the hosted versions of these files, and the newseful timeline file, to your project, copy and paste these lines into your code editor:
				</p>

				<pre class='panel__code-block'><code class='panel__code'>&lt;script src='http://d3js.org/d3.v3.min.js'&gt;&lt;/script&gt;
&lt;script src='https://raw.githubusercontent.com/jsoma/tabletop/master/src/tabletop.js'&gt;&lt;/script&gt;
&lt;script src='http://nf-components.na1429654158.netdna-cdn.com/components/timeline/1.0/newseful-timeline.js'&gt;&lt;/script&gt;</code></pre>

				<p class='panel__text'>
					You'll also need a link to the Newseful style sheet, unless you plan on styling the timeline yourself. To include the Newseful style sheet, add this code to the head section of your page.

					<pre class="panel__code-block"><code class='panel__code'>&lt;link rel='stylesheet' href='http://nf-components.na1429654158.netdna-cdn.com/components/styles/1.0/newseful.css'&gt;</code></pre>
				</p>

				<p class='panel__text'>
					With these files added to your project, you're ready to create a timeline. There are two required options to instantiate the default timeline, the <span class="panel__code-inline">container</span>, which is a reference to the element on the page that will contain the timeline, and the <span class="panel__code-inline">dataURL</span> property, which contains a link to the public version of your Google Sheet. For more information on data sources and setting up your Google Sheet's public URL, visit the Data Sources section below.
				</p>

				<p class='panel__text'>
					To instantiate your timeline, add the following script to your page, substituting your variables where indicated:
				</p>

				<pre class="panel__code-block"><code class='panel__code'>&lt;script&gt;
  var sheet = 'http://YOUR_SHEET_URL';
  var element = document.querySelector('YOUR_ELEMENT_SELECTOR');

  var timeline = new NFTimelineView({
  	container : element,
  	dataURL : sheet
  });
&lt;/script&gt;</code></pre>
			</div>

			<div class='panel__section' id='datasources'>
				<h2 class='panel__title'>Data Sources</h2>
				<p class='panel__text'>
					Newseful's timeline component provides two options for data sources. The default option is to use Google Sheets as a data source, but properly formatted <span class='panel__code-inline'>JSON</span> can also be used.
				</p>

				<h3 class='panel__subtitle'>Google Sheets</h3>
				<p class="panel__text">
					To use Google Sheets, you'll need to set up your spreadsheet in a particular way. For reference on how the columns should be titled and filled, consult <a class='panel__link' href='https://docs.google.com/spreadsheets/d/1EdTC-8FwXN06a04kCIwL7x7pfg67-cn7Tp-Kfgs9UeQ/pubhtml?gid=0&single=true'>this example spreadsheet.</a>
				</p>

				<p class="panel__text">
					Once your spreadsheet is set up, you'll need to make it publicly visible. In order to do this, within the google sheets interface navigate to <span class='panel__code-inline'>File > Publish to the web</span>. Once you've published your sheet, you should see a URL. Copy this URL and use it as the <span class="panel__code-inline">dataURL</span> property when instantiating a new timeline (see above).
				</p>

				<h3 class='panel__subtitle'>Custom Data Source</h3>
				<p class="panel__text">
					Newseful's timeline can also accept a custom data source as <span class='panel__code-inline'>JSON</span>. In order to use a custom data source, you will need to format the <span class='panel__code-inline'>JSON</span> as follows:
				</p>

				<pre class="panel__code-block"><code class='panel__code'>var data = {
	reactions : [{
		time : DATE_AND_TIME,
		source : NAME_OF_SOURCE,
		text : TEXT
	}, ...],
	events : [{
		time : DATE_AND_TIME,
		text : TEXT
	}, ...]
}</code></pre>
			<p class="panel__text">
				Then, when instantiating the timeline, pass in the data as the <span class='panel__code-inline'>data</span> property of the instantiation options, ommitting the <span class="panel__code-inline">dataURL</span> property entirely.
			</p>
			</div>

			<div class="panel__section" id='config'>
				<h2 class="panel__title">Configuration</h2>

				<p class="panel__text">
					In addition to the option of using custom data sources, the timeline component offers several other configuration options. Custom styles can easily be implemented by overriding the selectors in <span class='panel__code-inline'>newseful.css</span>, which uses the BEM convention to style components.
				</p>

				<p class="panel__text">
					Several configuration options are also available when instantiating the timeline.
				</p>

				<pre class="panel__code-block"><code class='panel__code'>var sheet = 'http://YOUR_SHEET_URL';
var element = document.querySelector('YOUR_ELEMENT_SELECTOR');

var timeline = new NFTimelineView({
	container : element,
	dataURL : sheet,
	sortOrder : 'chrono',
	labelFrequency : 3
});</code></pre>

				<h3 class="panel__subtitle">Event Order</h3>
				<p class='panel__text'>
					The default order for events in the Newseful timeline is reverse chronological. To override this and enable chronological sorting, instantiate the timeline with <span class="panel__code-inline">'chrono'</span> as the <span class='panel__code-inline'>sortOrder</span> parameter of the instantiation options.
				</p>

				<h3 class="panel__subtitle">Label Frequency</h3>
				<p class="panel__text">
					The frequency of the date labels along the middle axis of the timeline is configurable. The default is to add them every day, but passing an integer <span class='panel__code-inline'>x</span> to the instantiation option <span class="panel__code-inline">labelFrequency</span> will adjust it to provide labels every <span class="panel__code-inline">x</span> days.
				</p>
			</div>
		</div>

		<div class='right-panel right-panel--timeline'>


		</div>
	</div>
<script src='/js/main.js'></script>
<script src='d3.min.js'></script>
<script src='tabletop.js'></script>
<script src='http://nf-components.na1429654158.netdna-cdn.com/components/timeline/1.0/newseful-timeline.js'></script>

<script>
	var opts = {
		container : document.querySelector('.right-panel'),
		dataURL : 'https://docs.google.com/spreadsheets/d/1EdTC-8FwXN06a04kCIwL7x7pfg67-cn7Tp-Kfgs9UeQ/pubhtml?gid=0&single=true',
		labelFrequency : 7
	}

	var timeline = new NFTimelineView(opts);
</script>
</body>
</html>